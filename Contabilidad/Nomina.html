<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nómina - Contabilidad</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
    <link rel="stylesheet" href="nomina.css">
</head>
<body>
    <header>
        <div class="header-text">Nomina</div>
    </header>
    
    <nav class="top-nav">
        <div class="logo">
            <div class="logo-icon">H</div>
            <div class="logo-text">HORIZON PRIME</div>
        </div>
        <div class="user-profile">
            <button class="profile-button">A</button>
        </div>
    </nav>
    
    <div class="container">
        <aside class="sidebar">
            <div class="menu-items">
                <button class="menu-button">Transacciones</button>
                <button class="menu-button">Cuenta contable</button>
                <button class="menu-button">Facturación</button>
                <button class="menu-button active">Nomina</button>
            </div>
            <div class="back-button">
                <span class="material-symbols-outlined">arrow_back</span>
            </div>
        </aside>
        
        <main class="content">
            <div class="content-header">
                <h1 class="content-title">Control de Nómina</h1>
                <div class="header-buttons">
                    <button class="new-payroll-btn" id="newPayrollBtn">
                        <span class="material-symbols-outlined">payments</span>
                        Generar Pago
                    </button>
                    <button class="new-employee-btn" id="newEmployeeBtn">
                        <span class="material-symbols-outlined">person_add</span>
                        Nuevo Empleado
                    </button>
                </div>
            </div>

            <div class="filters">
                <div class="filter-group">
                    <label for="searchInput">Buscar:</label>
                    <input type="text" id="searchInput" class="filter-input" placeholder="Nombre, ID o departamento">
                </div>
                <div class="filter-group">
                    <label for="departmentFilter">Departamento:</label>
                    <select id="departmentFilter" class="filter-input">
                        <option value="">Todos</option>
                        <option value="Recepción">Recepción</option>
                        <option value="Limpieza">Limpieza</option>
                        <option value="Cocina">Cocina</option>
                        <option value="Restaurante">Restaurante</option>
                        <option value="Mantenimiento">Mantenimiento</option>
                        <option value="Administración">Administración</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="statusFilter">Estado:</label>
                    <select id="statusFilter" class="filter-input">
                        <option value="">Todos</option>
                        <option value="Activo">Activo</option>
                        <option value="Inactivo">Inactivo</option>
                        <option value="Vacaciones">Vacaciones</option>
                    </select>
                </div>
            </div>

            <table class="employees-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Departamento</th>
                        <th>Cargo</th>
                        <th>Estado</th>
                        <th>Salario Base</th>
                        <th>Último Pago</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody id="employeesTableBody">
                    <!-- Table content will be populated by JavaScript -->
                </tbody>
            </table>
        </main>
    </div>

    <footer>
        <!-- Footer is a dark bar at the bottom -->
    </footer>

    <!-- Employee Modal -->
    <div class="modal" id="employeeModal">
        <div class="modal-content employee-modal">
            <div class="modal-header">
                <h2 class="modal-title" id="employeeModalTitle">Nuevo Empleado</h2>
                <button class="close-modal" id="closeEmployeeModal">&times;</button>
            </div>
            <form id="employeeForm">
                <input type="hidden" id="employeeId">
                
                <div class="form-tabs">
                    <button type="button" class="tab-btn active" data-tab="personal">Datos Personales</button>
                    <button type="button" class="tab-btn" data-tab="employment">Datos Laborales</button>
                    <button type="button" class="tab-btn" data-tab="payment">Datos de Pago</button>
                </div>
                
                <div class="tab-content active" id="personal-tab">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="employeeCode">Código de Empleado</label>
                            <input type="text" class="form-control" id="employeeCode" required>
                        </div>
                        <div class="form-group">
                            <label for="employeeStatus">Estado</label>
                            <select class="form-control" id="employeeStatus" required>
                                <option value="Activo">Activo</option>
                                <option value="Inactivo">Inactivo</option>
                                <option value="Vacaciones">Vacaciones</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">Nombre</label>
                            <input type="text" class="form-control" id="firstName" required>
                        </div>
                        <div class="form-group">
                            <label for="lastName">Apellidos</label>
                            <input type="text" class="form-control" id="lastName" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="idNumber">Número de Identificación</label>
                            <input type="text" class="form-control" id="idNumber" required>
                        </div>
                        <div class="form-group">
                            <label for="birthDate">Fecha de Nacimiento</label>
                            <input type="date" class="form-control" id="birthDate" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="address">Dirección</label>
                        <input type="text" class="form-control" id="address" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="phone">Teléfono</label>
                            <input type="tel" class="form-control" id="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Correo Electrónico</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="employment-tab">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="department">Departamento</label>
                            <select class="form-control" id="department" required>
                                <option value="">Seleccionar departamento</option>
                                <option value="Recepción">Recepción</option>
                                <option value="Limpieza">Limpieza</option>
                                <option value="Cocina">Cocina</option>
                                <option value="Restaurante">Restaurante</option>
                                <option value="Mantenimiento">Mantenimiento</option>
                                <option value="Administración">Administración</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="position">Cargo</label>
                            <input type="text" class="form-control" id="position" required>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="hireDate">Fecha de Contratación</label>
                            <input type="date" class="form-control" id="hireDate" required>
                        </div>
                        <div class="form-group">
                            <label for="contractType">Tipo de Contrato</label>
                            <select class="form-control" id="contractType" required>
                                <option value="Indefinido">Indefinido</option>
                                <option value="Temporal">Temporal</option>
                                <option value="Por Obra">Por Obra</option>
                                <option value="Medio Tiempo">Medio Tiempo</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="schedule">Horario</label>
                        <select class="form-control" id="schedule" required>
                            <option value="Mañana (6:00 - 14:00)">Mañana (6:00 - 14:00)</option>
                            <option value="Tarde (14:00 - 22:00)">Tarde (14:00 - 22:00)</option>
                            <option value="Noche (22:00 - 6:00)">Noche (22:00 - 6:00)</option>
                            <option value="Rotativo">Rotativo</option>
                            <option value="Administrativo (9:00 - 17:00)">Administrativo (9:00 - 17:00)</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="supervisor">Supervisor</label>
                        <select class="form-control" id="supervisor">
                            <option value="">Seleccionar supervisor</option>
                            <!-- Will be populated dynamically -->
                        </select>
                    </div>
                </div>
                
                <div class="tab-content" id="payment-tab">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="baseSalary">Salario Base</label>
                            <input type="number" class="form-control" id="baseSalary" step="0.01" min="0" required>
                        </div>
                        <div class="form-group">
                            <label for="paymentFrequency">Frecuencia de Pago</label>
                            <select class="form-control" id="paymentFrequency" required>
                                <option value="Quincenal">Quincenal</option>
                                <option value="Mensual">Mensual</option>
                                <option value="Semanal">Semanal</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="bankAccount">Cuenta Bancaria</label>
                        <input type="text" class="form-control" id="bankAccount" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="bankName">Banco</label>
                        <input type="text" class="form-control" id="bankName" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Beneficios</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="healthInsurance">
                                <label for="healthInsurance">Seguro de Salud</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="mealAllowance">
                                <label for="mealAllowance">Subsidio de Alimentación</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="transportAllowance">
                                <label for="transportAllowance">Subsidio de Transporte</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="bonusEligible">
                                <label for="bonusEligible">Elegible para Bonificaciones</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="notes">Notas Adicionales</label>
                        <textarea class="form-control" id="notes" rows="3"></textarea>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-cancel" id="cancelEmployee">Cancelar</button>
                    <button type="submit" class="btn btn-save">Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Payroll Modal -->
    <div class="modal" id="payrollModal">
        <div class="modal-content payroll-modal">
            <div class="modal-header">
                <h2 class="modal-title">Generar Pago de Nómina</h2>
                <button class="close-modal" id="closePayrollModal">&times;</button>
            </div>
            <form id="payrollForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="payrollPeriod">Período</label>
                        <select class="form-control" id="payrollPeriod" required>
                            <option value="">Seleccionar período</option>
                            <option value="1-15 Mayo 2023">1-15 Mayo 2023</option>
                            <option value="16-31 Mayo 2023">16-31 Mayo 2023</option>
                            <option value="1-15 Junio 2023">1-15 Junio 2023</option>
                            <option value="16-30 Junio 2023">16-30 Junio 2023</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="paymentDate">Fecha de Pago</label>
                        <input type="date" class="form-control" id="paymentDate" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="departmentPayroll">Departamento</label>
                    <select class="form-control" id="departmentPayroll">
                        <option value="">Todos los departamentos</option>
                        <option value="Recepción">Recepción</option>
                        <option value="Limpieza">Limpieza</option>
                        <option value="Cocina">Cocina</option>
                        <option value="Restaurante">Restaurante</option>
                        <option value="Mantenimiento">Mantenimiento</option>
                        <option value="Administración">Administración</option>
                    </select>
                </div>
                
                <div class="payroll-employees">
                    <h3>Empleados a Pagar</h3>
                    <div class="select-all-container">
                        <input type="checkbox" id="selectAllEmployees">
                        <label for="selectAllEmployees">Seleccionar todos</label>
                    </div>
                    <div class="employee-list" id="payrollEmployeeList">
                        <!-- Will be populated dynamically -->
                    </div>
                </div>
                
                <div class="payroll-summary">
                    <div class="summary-row">
                        <span>Total Empleados:</span>
                        <span id="totalEmployees">0</span>
                    </div>
                    <div class="summary-row">
                        <span>Total Salarios Base:</span>
                        <span id="totalBaseSalary">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Total Bonificaciones:</span>
                        <span id="totalBonuses">$0.00</span>
                    </div>
                    <div class="summary-row">
                        <span>Total Deducciones:</span>
                        <span id="totalDeductions">$0.00</span>
                    </div>
                    <div class="summary-row total">
                        <span>Total a Pagar:</span>
                        <span id="totalPayroll">$0.00</span>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-cancel" id="cancelPayroll">Cancelar</button>
                    <button type="submit" class="btn btn-save">Procesar Pago</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Employee Details Modal -->
    <div class="modal" id="employeeDetailsModal">
        <div class="modal-content employee-details-modal">
            <div class="modal-header">
                <h2 class="modal-title">Detalles del Empleado</h2>
                <button class="close-modal" id="closeDetailsModal">&times;</button>
            </div>
            <div class="employee-details-content" id="employeeDetailsContent">
                <!-- Will be populated dynamically -->
            </div>
            <div class="form-actions">
                <button type="button" class="btn btn-cancel" id="closeDetails">Cerrar</button>
                <button type="button" class="btn btn-save" id="editFromDetails">Editar</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal" id="deleteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Confirmar Eliminación</h2>
                <button class="close-modal" id="closeDeleteModal">&times;</button>
            </div>
            <p>¿Está seguro que desea eliminar este empleado?</p>
            <div class="form-actions">
                <button type="button" class="btn btn-cancel" id="cancelDelete">Cancelar</button>
                <button type="button" class="btn btn-save" id="confirmDelete">Eliminar</button>
            </div>
        </div>
    </div>

    <script src="nomina.js"></script>
</body>
</html>